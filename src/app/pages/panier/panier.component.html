<div id="page" class="page">




    <!-- PAGE HERO
    ============================================= -->	
    <div id="cart-page" class="page-hero-section division">
        <div class="container">	
            <div class="row">	
                <div class="col-lg-10 offset-lg-1">
                    <div class="hero-txt text-center white-color">

                        <!-- Title -->
                        <h2 class="h2-xl">Panier </h2>

                    </div>
                </div>	
            </div>	  <!-- End row -->
        </div>	   <!-- End container --> 
    </div>	<!-- END PAGE HERO -->	




    <!-- CART PAGE
    ============================================= -->
    <section *ngIf="commande!=null; else noCommande" id="cart-1" class="wide-100 cart-page division">
        <div class="container">


            <!-- CART TABLE -->	
            <div class="row">
                <div class="col-md-12">
                    <div class="cart-table mb-70">
                        <table id="myTable">
                            <thead>
                                <tr>
                                      <th scope="col">Nom</th>
                                      <th scope="col">Prix</th>
                                      <th scope="col">Quantit√©</th>
                                      <th scope="col">Total</th>
                                      <th scope="col">Supprimer</th>
                                </tr>
                             </thead>

                            <tbody >

                                <!-- CART ITEM #1 -->
                                <tr *ngFor="let detail of commande.plats">
                                      <td data-label="Product" class="product-name">

                                          <!-- Preview -->
                                        <!-- <div class="cart-product-img"><img src="images/menu/burger-07.png" alt="cart-preview"></div> -->

                                        <!-- Description -->
                                        <div class="cart-product-desc">
                                              <h6 class="h6-sm">{{detail.plat.nom}}</h6>
                                              <p class="p-sm">{{detail.plat.composition}}</p>
                                          </div>

                                      </td>

                                      <td data-label="Price" class="product-price"><h6 class="h6-md">{{detail.plat.prixVente}}Ar</h6></td>
                                      <td data-label="Quantity" class="product-qty">
                                          <input class="qty" type="number" min="1" max="20" (click)="onQuantite(detail)" [(ngModel)]="detail.quantite">
                                      </td>
                                      <td data-label="Total" class="product-price-total"><h6 class="h6-md">{{detail.montant}}Ar</h6></td>
                                      <td data-label="Delete" class="td-trash"><i (click)="annulerCommande(detail)" class="far fa-trash-alt"></i></td>

                                </tr>

                            </tbody>

                        </table>
                    </div>
                </div>
            </div>	<!-- END CART TABLE -->


            <!-- CART CHECKOUT -->		
            <div class="row">
                <!-- DISCOUNT COUPON -->
						<div class="col-lg-8">
							<div class="discount-coupon row pt-15">

								<!-- Form -->
								<div class="col-md-8 col-lg-7">
									
								</div>


								<!-- Button -->
								<!-- <div class="col-md-4 col-lg-5 text-right">
									<a onClick="window.location.reload()" class="btn btn-md btn-salmon tra-salmon-hover">Update Cart</a>
								</div> -->

							</div>
						</div>


                <!-- CHECKOUT -->
                <div *ngIf="commande.plats.length>0" class="col-lg-4">
                    <div class="cart-checkout bg-lightgrey">

                        <!-- Title -->
                        <h5 class="h5-lg">Cart Total</h5>

                        <!-- Table -->
                        
                        <table>
                            <tbody >
                                <tr>
                                      <td>Total montant</td>
                                      <td> </td>
                                      <td class="text-right">{{commande.total}}</td>
                                </tr>
                                <tr  class="last-tr">
                                      <td>Frais de livraison</td>
                                      <td> </td>
                                      <td class="text-right">{{commande.fraisLivraison}}</td>
                                </tr>
                                <tr class="last-tr">
                                    <td>Total</td>
                                    <td> </td>
                                    <td class="text-right">{{total}}</td>
                              </tr>
                              <tr class="last-tr">
                                <td colspan="3">
                                    <form  [formGroup]="comForm" class="discount-form">
                                                    
                                        <div class="input-group">
                                            <input type="text" class="form-control"  formControlName="adresse" placeholder="Entrer une adresse" id="discount-code">																	 
                                        </div>		
                                    </form>	
                                </td>
                               </tr>
                              </tbody>
                        </table>

                        <!-- Button -->
                        <a  class="btn btn-md btn-salmon tra-salmon-hover"(click)="commander()">Commander</a>

                    </div>
                </div>	<!-- END CHECKOUT -->


            </div>	  <!-- END CART CHECKOUT -->

            
        </div>	   <!-- End container --> 
    </section>	<!-- END CART PAGE -->	
    <ng-template #noCommande>
        <section id="cart-1" class="wide-100 cart-page division">
            <div class="container">
                <!-- CART TABLE -->	
                <div class="row">
                    <div class="col-md-12">
                        AUCUNE COMMANDE EN COURS
                    </div>
                </div>
            </div>
        </section>	<!-- END CART PAGE -->	
    </ng-template>

</div>	<!-- END PAGE CONTENT -->
<app-alert-modal></app-alert-modal>